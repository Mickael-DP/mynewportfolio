<section>
    <h2 class="text-xl lg:text-3xl xl:text-3xl font-sigmar font-bold text-gray-200 mb-6 border-b border-gray-700 pb-2">Contactez-moi</h2>
    <div class="max-w-md md:max-w-4xl mx-auto mt-10 p-6 border border-gray-700 rounded-lg shadow-lg">
        <form (ngSubmit)="sendEmail()" #contactForm="ngForm">
            <div class="mb-4">
                <label for="name" class="block text-gray-400">Nom *</label>
                <input [(ngModel)]="formData.name" required type="text" id="name" name="name" class="mt-1 p-2 w-full bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring focus:ring-blue-500" />
            </div>
        <div class="mb-4">
    <label for="email" class="block text-gray-400">Email *</label>
    <input 
        [(ngModel)]="formData.email" 
        required 
        type="email" 
        id="email" 
        name="email" 
        email
        #emailField="ngModel"
        class="mt-1 p-2 w-full bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring focus:ring-blue-500" 
    />
    <div *ngIf="emailField.invalid && emailField.touched" class="text-red-500 text-sm mt-1">
        Veuillez entrer une adresse email valide.
    </div>
</div>
            <div class="mb-4">
                <label for="objet" class="block text-gray-400">Objet</label>
                <input [(ngModel)]="formData.objet" type="text" id="objet" name="objet" class="mt-1 p-2 w-full bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring focus:ring-blue-500" />
            </div>
            <div class="mb-4">
                <label for="message" class="block text-gray-400">Message *</label>
                <textarea [(ngModel)]="formData.message" id="message" name="message" rows="4" required class="mt-1 p-2 w-full bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring focus:ring-blue-500"></textarea>
            </div>
            <button 
                type="submit" 
                [disabled]="isLoading || !contactForm.form.valid"
                class="w-full py-2 mt-4 bg-gray-800 text-white rounded-md hover:bg-blue-700 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                <span *ngIf="!isLoading">Envoyer</span>
                <span *ngIf="isLoading">Envoi en cours...</span>
            </button>
        </form>
    </div>
    
    <!-- Message de statut corrigé -->
  <div *ngIf="statusMessage" 
     class="max-w-md md:max-w-4xl mx-auto mt-4 transition-all duration-500"
     [ngClass]="{
        'text-green-600 bg-green-100 border border-green-400 p-4 rounded-lg shadow-lg flex items-center gap-2': isSuccess,
        'text-red-600 bg-red-100 border border-red-400 p-4 rounded-lg shadow-lg flex items-center gap-2': !isSuccess
     }">
    <span *ngIf="isSuccess">✅</span>
    <span *ngIf="!isSuccess">❌</span>
    <span>{{ statusMessage }}</span>
</div>
</section>